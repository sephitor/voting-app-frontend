{"version":3,"sources":["types/types.js","helpers/fetch.js","actions/polls.js","components/PollAddScreen.js","components/PollPanels/PollsItemScreen.js","components/PollPanels/PollsPanelScreen.js","components/PollsListScreen.js","helpers/preparePolls.js","components/PollPanels/PollAnswerScreen.js","components/PollsResultScreen.js","service/socket.js","components/PollQuestionScreen.js","routers/AppRouter.js","reducers/pollReducer.js","store/store.js","VotingApp.js","index.js"],"names":["types","baseUrl","process","fetchBackEnd","endpoint","data","method","url","fetch","headers","body","JSON","stringify","pollAddNew","poll","type","payload","pollsLoaded","polls","pollStartLoadedByID","id","dispatch","a","resp","json","pollLoadedByID","Swal","fire","voteAdd","initialState","question","option1","option2","option3","option4","PollAddScreen","history","useDispatch","useState","formValues","setFormValues","formError","setFormError","handleInputChange","target","name","value","to","className","onSubmit","e","preventDefault","trim","length","console","log","ok","err","message","push","rows","onChange","PollsItemScreen","option1votes","option2votes","option3votes","option4votes","title","color","key","_id","style","width","fontFamily","fontSize","lineWidth","animate","label","dataEntry","Math","round","percentage","labelPosition","labelStyle","fill","opacity","pointerEvents","date","PollsPanelScreen","map","PollsListScreen","useSelector","state","shallowEqual","pollsOrderTop","parse","sort","total","reverse","slice","moment","fromNow","preparePollsTop","pollsOrderRecent","preparePolls","useEffect","PollAnswerScreen","pollID","handleVote","onClick","PollsResultScreen","role","data-dismiss","aria-label","aria-hidden","socket","io","PollQuestionScreen","useParams","find","esRespuesta","setEsRespuesta","on","option","voteStartAdd","emit","error","AppRouter","exact","path","component","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","action","applyMiddleware","thunk","VotingApp","ReactDOM","render","document","getElementById"],"mappings":"6RAAaA,EACG,sBADHA,EAQI,sBARJA,EAWQ,2BAXRA,EAcC,kBCbRC,EAAUC,4BAEVC,EAAe,SAAEC,EAAUC,GAA2B,IAArBC,EAAoB,uDAAX,MAEtCC,EAAG,UAAON,EAAP,YAAoBG,GAE7B,MAAgB,QAAXE,EACME,MAAOD,GAEPC,MAAOD,EAAK,CACfD,SACAG,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAWP,M,iBCY5BQ,EAAa,SAACC,GAAD,MAAW,CAC1BC,KAAMf,EACNgB,QAASF,IAuBPG,EAAc,SAACC,GAAD,MAAY,CAC5BH,KAAMf,EACNgB,QAASE,IAKAC,EAAsB,SAACC,GAChC,8CAAO,WAAOC,GAAP,iBAAAC,EAAA,+EAIoBnB,EAAa,SAAD,OAAUiB,IAJ1C,cAIOG,EAJP,gBAKoBA,EAAKC,OALzB,OAKOd,EALP,OAOCW,EAASI,EAAef,EAAKI,OAP9B,kDAUCY,IAAKC,KAAK,QAAV,uCAAmD,SAVpD,0DAAP,uDAgBEF,EAAiB,SAACX,GAAD,MAAW,CAC9BC,KAAMf,EACNgB,QAASF,IAiCPc,EAAU,SAACd,GAAD,MAAW,CACvBC,KAAMf,EACNgB,QAASF,IC5GPe,EAAe,CACjBC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,QAAS,GACTC,QAAS,IAGAC,EAAgB,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAErBf,EAAWgB,cAFuB,EAIJC,mBAAST,GAJL,mBAIjCU,EAJiC,KAIrBC,EAJqB,OAMNF,mBAAS,MANH,mBAMjCG,EANiC,KAMtBC,EANsB,KAQhCZ,EAAiDS,EAAjDT,SAAUC,EAAuCQ,EAAvCR,QAASC,EAA8BO,EAA9BP,QAASC,EAAqBM,EAArBN,QAASC,EAAYK,EAAZL,QAGvCS,EAAoB,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAEzBJ,EAAc,2BACPD,GADM,kBAERK,EAAOC,KAAOD,EAAOE,UAkC9B,OACI,oCACI,kBAAC,IAAD,CAAMC,GAAG,IAAIC,UAAU,+BAAvB,gBACA,6BACA,6BACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,yBAGX,0BAAMC,SAvCL,SAACC,GAGlB,OAFAA,EAAEC,kBAEM,GACJ,KAAMrB,EAASsB,OAAOC,OAAS,GAC3BX,EAAa,2DAAD,OAA6DZ,EAASuB,SAClF,MACJ,KAAMtB,EAAQqB,OAAOC,QAAU,EAC3BX,EAAa,yBACb,MACJ,KAAMV,EAAQoB,OAAOC,QAAU,EAC3BX,EAAa,yBACb,MAGJ,QAEIrB,GD5CgBP,EC4CSyB,ED3CrC,uCAAO,WAAOlB,GAAP,iBAAAC,EAAA,sEAEgBnB,EAAa,YAAaW,EAAM,QAFhD,cAEGS,EAFH,gBAGgBA,EAAKC,OAHrB,OAGGd,EAHH,OAKH4C,QAAQC,IAAI7C,GAERA,EAAK8C,GAELnC,EAASR,EAAWH,EAAKI,OAIzBY,IAAKC,KAAK,QAASjB,EAAK+C,IAAIC,QAAS,SAbtC,2CAAP,wDC4CYlB,EAAcX,GAEdO,EAAQuB,KAAK,KD/CE,IAAC7C,ICmEJ,yBAAKkC,UAAU,mBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,iBAEX,yBAAKA,UAAU,qCACX,yBAAKA,UAAU,cACX,gDAAqB,0BAAMA,UAAU,eAAhB,MAErB,8BACIH,KAAK,WACLe,KAAK,KACLZ,UAAU,oBACVF,MAAOhB,EACP+B,SAAUlB,IAGd,4BAAQ5B,KAAK,SAASiC,UAAU,6BAAhC,gBAIJ,2BAAG,0BAAMA,UAAU,eAAhB,iCAEFP,GAAc,yBAAKO,UAAU,sBAAsBP,KAK5D,yBAAKO,UAAU,iBACX,yBAAKA,UAAU,qCAGX,yBAAKA,UAAU,cACX,0CAAe,0BAAMA,UAAU,eAAhB,MACf,2BACIH,KAAK,UACLG,UAAU,oBACVF,MAAOf,EACP8B,SAAUlB,KAIlB,yBAAKK,UAAU,cACX,0CAAe,0BAAMA,UAAU,eAAhB,MACf,2BACIH,KAAK,UACLG,UAAU,oBACVF,MAAOd,EACP6B,SAAUlB,KAIlB,yBAAKK,UAAU,cACX,2CACA,2BACIH,KAAK,UACLG,UAAU,oBACVF,MAAOb,EACP4B,SAAUlB,KAIlB,yBAAKK,UAAU,cACX,2CACA,2BACIH,KAAK,UACLG,UAAU,oBACVF,MAAOZ,EACP2B,SAAUlB,e,QCxIjDmB,EAAkB,SAAC,GAAc,IAAZhD,EAAW,EAAXA,KAExBiB,EAAUjB,EAAKiB,SAAYjB,EAAKiB,QAAU,IAAMjB,EAAKiD,aAAe,SACpE/B,EAAUlB,EAAKkB,SAAY,MAAQlB,EAAKkB,QAAU,IAAMlB,EAAKkD,aAAe,SAC5E/B,EAAUnB,EAAKmB,SAAY,MAAQnB,EAAKmB,QAAU,IAAMnB,EAAKmD,aAAe,SAC5E/B,EAAUpB,EAAKoB,SAAY,MAAQpB,EAAKoB,QAAU,IAAMpB,EAAKoD,aAAe,SAE5E7D,EAAO,GAEb0B,GAAW1B,EAAKsD,KAAM,CAAEQ,MAAOrD,EAAKiB,QAAUe,MAAOhC,EAAKiD,aAAcK,MAAO,YAC/EpC,GAAW3B,EAAKsD,KAAM,CAAEQ,MAAOrD,EAAKkB,QAAUc,MAAOhC,EAAKkD,aAAcI,MAAO,YAC/EnC,GAAW5B,EAAKsD,KAAM,CAAEQ,MAAOrD,EAAKmB,QAAUa,MAAOhC,EAAKmD,aAAcG,MAAO,YAC/ElC,GAAW7B,EAAKsD,KAAM,CAAEQ,MAAOrD,EAAKoB,QAAUY,MAAOhC,EAAKoD,aAAcE,MAAO,YAI/E,OAEI,yBAAKC,IAAKvD,EAAKwD,IAAKtB,UAAU,YAAYuB,MAAO,CAAEC,MAAO,SACtD,yBAAKxB,UAAU,kBACX,yBAAKA,UAAU,YAGX,kBAAC,WAAD,CACIA,UAAU,OACVuB,MAAO,CACHE,WACI,6DACJC,SAAU,QAEdrE,KAAMA,EACNsE,UAjBF,GAkBEC,SAAO,EACPC,MAAO,gBAAGC,EAAH,EAAGA,UAAH,OAAmBC,KAAKC,MAAMF,EAAUG,YAAc,KAC7DC,cAAe,GACfC,WAAY,CACRC,KAAM,OACNC,QAAS,IACTC,cAAe,WAQ3B,yBAAKtC,UAAU,YACX,yBAAKA,UAAU,aACX,wBAAIA,UAAU,cAAa,kBAAC,IAAD,CAAMD,GAAE,iBAAajC,EAAKwD,MAASxD,EAAKgB,WACnE,uBAAGkB,UAAU,aAAajB,EAA1B,KAAqCC,EAArC,KAAgDC,EAAhD,KAA2DC,GAC3D,uBAAGc,UAAU,aAAY,mCAASlC,EAAKyE,KAAd,WCnDpCC,EAAmB,SAAC,GAAqB,IAAnBrB,EAAkB,EAAlBA,MAAOjD,EAAW,EAAXA,MAGtC,OACI,yBAAK8B,UAAU,iBACX,yBAAKA,UAAU,qCACX,4BAAKmB,GAEDjD,EAAMuE,KAAI,SAAC3E,GACP,OACI,kBAAC,EAAD,CAAiBuD,IAAKvD,EAAKwD,IAAKxD,KAAMA,U,iBCDrD4E,EAAkB,WAE3B,IAAMrE,EAAWgB,cAEXnB,EAAQyE,aAAY,SAAAC,GAAK,OAAIA,EAAM1E,QAAO2E,KAM5CC,EAAgBnF,KAAKoF,MAAMpF,KAAKC,UAAUM,IAC9C4E,ECV2B,WAAiB,IAAhB5E,EAAe,uDAAP,GAEpC,OAAOA,EAAM8E,MAAK,uBAAGC,MAAH,EAA0BA,SACvCC,UACAC,MAAM,EAAG,GACTV,KACG,SAACvC,GAAD,mBAAC,eACMA,GADP,IAEIqC,KAAMa,IAAOlD,EAAEqC,MAAMc,eDEjBC,CAAiBR,GAEjC,IAAIS,EAAmB5F,KAAKoF,MAAMpF,KAAKC,UAAUM,IAWjD,OAVAqF,ECxBwB,WAAiB,IAAhBrF,EAAe,uDAAP,GAEjC,OAAOA,EACFuE,KACG,SAACvC,GAAD,mBAAC,eACMA,GADP,IAEIqC,KAAMa,IAAOlD,EAAEqC,MAAMc,eDkBdG,CAActF,GAEjCuF,qBAAU,WAENpF,EJMJ,uCAAO,WAAOA,GAAP,iBAAAC,EAAA,+EAIoBnB,EAAa,SAJjC,cAIOoB,EAJP,gBAKoBA,EAAKC,OALzB,OAKOd,EALP,OAOCW,EAASJ,EAAYP,EAAKQ,QAP3B,kDAUCQ,IAAKC,KAAK,QAAS,sBAAuB,SAV3C,0DAAP,yDIJG,CAACN,IAKA,oCACI,kBAAC,IAAD,CAAM0B,GAAG,aAAaC,UAAU,+BAAhC,wBAEA,6BACA,6BACA,yBAAKA,UAAU,YACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,yBAEX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,OACX,kBAAC,EAAD,CACIqB,IAAI,IACJF,MAAM,cACNjD,MAAO4E,IAGX,kBAAC,EAAD,CACIzB,IAAI,IACJF,MAAM,eACNjD,MAAOqF,WEvD9BG,EAAmB,SAAC,GAA2D,IAAzDC,EAAwD,EAAxDA,OAAQ9D,EAAgD,EAAhDA,KAAMC,EAA0C,EAA1CA,MAA0C,IAAnCsB,aAAmC,MAA3B,UAA2B,EAAhBwC,EAAgB,EAAhBA,WAEvE,OACI,yBAAKvC,IAAKsC,EAAS9D,EAAMG,UAAU,YAAYuB,MAAO,CAAEC,MAAO,SAC3D,yBAAKxB,UAAU,aACX,wBAAIA,UAAU,mBAAmBF,GACjC,6BACA,4BACI+D,QAAS,kBAAKD,EAAW/D,IACzBG,UAAS,kBAAaoB,EAAb,oBACXtB,MCPLgE,EAAoB,SAAC,GAAc,IAAZhG,EAAW,EAAXA,KAK5BgB,EASAhB,EATAgB,SACAC,EAQAjB,EARAiB,QACAC,EAOAlB,EAPAkB,QACAC,EAMAnB,EANAmB,QACAC,EAKApB,EALAoB,QACA6B,EAIAjD,EAJAiD,aACAC,EAGAlD,EAHAkD,aACAC,EAEAnD,EAFAmD,aACAC,EACApD,EADAoD,aAGE7D,EAAO,GAEb0B,GAAW1B,EAAKsD,KAAK,CAAEQ,MAAOpC,EAASe,MAAOiB,EAAcK,MAAO,YACnEpC,GAAW3B,EAAKsD,KAAK,CAAEQ,MAAOnC,EAASc,MAAOkB,EAAcI,MAAO,YACnEnC,GAAW5B,EAAKsD,KAAK,CAAEQ,MAAOlC,EAASa,MAAOmB,EAAcG,MAAO,YACnElC,GAAW7B,EAAKsD,KAAK,CAAEQ,MAAOjC,EAASY,MAAOoB,EAAcE,MAAO,YAInE,OACI,oCACI,kBAAC,IAAD,CAAMrB,GAAG,IAAIC,UAAU,+BAAvB,gBACA,6BACA,6BACA,yBAAKA,UAAU,aACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,yBAEX,wBAAIA,UAAU,eAAelB,GAI7B,yBAAKkB,UAAU,kDAAkD+D,KAAK,SAClE,gCAAQ,uBAAG/D,UAAU,uBAArB,wBADJ,0BAEQ,4BAAQjC,KAAK,SAASiC,UAAU,QAAQgE,eAAa,QAAQC,aAAW,SACxE,0BAAMC,cAAY,QAAlB,UAKR,yBAAKlE,UAAU,mBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,YAEX,yBAAKA,UAAU,qCAEX,kBAAC,WAAD,CACIA,UAAU,OACVuB,MAAO,CACHE,WACI,6DACJC,SAAU,QAEdrE,KAAMA,EACNsE,UArCtB,GAsCsBC,SAAO,EACPC,MAAO,gBAAGC,EAAH,EAAGA,UAAH,OAAmBC,KAAKC,MAAMF,EAAUG,YAAc,KAC7DC,cAAe,GACfC,WAAY,CACRC,KAAM,OACNC,QAAS,IACTC,cAAe,YAQ/B,yBAAKtC,UAAU,YACX,yBAAKA,UAAU,qCAIX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,YACX,4BAAKjB,IAET,yBAAKiB,UAAU,YACX,4BAAKe,EAAL,YAMR,yBAAKf,UAAU,OACX,yBAAKA,UAAU,YACX,4BAAKhB,IAET,yBAAKgB,UAAU,YACX,4BAAKgB,EAAL,YAUH/B,GACG,yBAAKe,UAAU,OACX,yBAAKA,UAAU,YACX,4BAAKf,IAET,yBAAKe,UAAU,YACX,4BAAKiB,EAAL,YAQX/B,GACG,yBAAKc,UAAU,OACX,yBAAKA,UAAU,YACX,4BAAKd,IAET,yBAAKc,UAAU,YACX,4BAAKkB,EAAL,qB,QChI3CiD,E,MAASC,GAAGlH,gCCKZmH,EAAqB,SAAC,GAAiB,IAAfjF,EAAc,EAAdA,QAE7BA,EAAQiB,QAAU,GAClBjB,EAAQuB,KAAK,KAH8B,IAKvCvC,EAAOkG,cAAPlG,GAEFN,EAAO6E,aAAY,SAAAC,GAAK,OAAIA,EAAM1E,SAAOqG,MAAK,SAAAzG,GAAI,OAAIA,EAAKwD,MAAQlD,KAP1B,EASTkB,oBAAS,GATA,mBASxCkF,EATwC,KAS3BC,EAT2B,KAWzCpG,EAAWgB,cAEjBoE,qBAAU,WAENpF,EAASF,EAAoBC,IAG7B+F,EAAOO,GAAG,gBAAgB,SAAArH,GAEtBiD,QAAQC,IAAI,yBAERlD,EAAKe,KAAOA,IACZkC,QAAQC,IAAI,sBACZlC,EAASF,EAAoBC,UAKtC,CAACC,EAAUD,IAId,IAGI,IAAMwF,EAAa,SAAC9D,GAChBzB,ETqCgB,SAACD,EAAIuG,GAC7B,8CAAO,WAAOtG,GAAP,iBAAAC,EAAA,+EAKoBnB,EAAa,UAAD,OAAWiB,GAAM,CAACuG,UAAU,OAL5D,cAKOpG,EALP,gBAMoBA,EAAKC,OANzB,QAMOd,EANP,QAQU8C,GAELnC,EAASO,EAAQlB,EAAKI,OAKtBY,IAAKC,KAAK,QAASjB,EAAK+C,IAAIC,QAAS,SAf1C,kDAqBChC,IAAKC,KAAK,QAAS,qBAAsB,SArB1C,0DAAP,sDStCiBiG,CAAaxG,EAAI0B,IAE1BqE,EAAOU,KAAK,OAAQ,CAAEzG,OAAM,SAAUG,GAClC+B,QAAQC,IAAI,qBAAmBhC,MAGnCkG,GAAe,IAKf3F,EASAhB,EATAgB,SACAC,EAQAjB,EARAiB,QACAC,EAOAlB,EAPAkB,QACAC,EAMAnB,EANAmB,QACAC,EAKApB,EALAoB,QAQJ,OAASsF,EAuCJ,kBAAC,EAAD,CAAmB1G,KAAMA,IAtC1B,oCAEI,6BACA,6BACA,yBAAKkC,UAAU,wBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,yBAEX,4BAAKlB,GAEL,yBAAKkB,UAAU,mBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,iBAEX,yBAAKA,UAAU,qCAEX,kBAAC,EAAD,CAAkBH,KAAK,UAAUuB,MAAM,UAAUtB,MAAOf,EAAS4E,OAAQvF,EAAIwF,WAAYA,IAExF3E,GAAY,kBAAC,EAAD,CAAkBY,KAAK,UAAUuB,MAAM,UAAUtB,MAAOb,EAAS0E,OAAQvF,EAAIwF,WAAYA,MAM9G,yBAAK5D,UAAU,iBACX,yBAAKA,UAAU,qCAEX,kBAAC,EAAD,CAAkBH,KAAK,UAAUuB,MAAM,SAAStB,MAAOd,EAAS2E,OAAQvF,EAAIwF,WAAYA,IACvF1E,GAAY,kBAAC,EAAD,CAAkBW,KAAK,UAAUuB,MAAM,UAAUtB,MAAOZ,EAASyE,OAAQvF,EAAIwF,WAAYA,YAY5I,MAAOkB,GACL,OAAO,kBAAC,IAAD,CAAU/E,GAAG,QCnGfgF,EAAY,WACrB,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,aAAaC,UAAY/F,IAC3C,kBAAC,IAAD,CAAO6F,OAAK,EAACC,KAAK,aAAaC,UAAcb,IAC7C,kBAAC,IAAD,CAAOW,OAAK,EAACC,KAAK,IAAGC,UAAYxC,IACjC,kBAAC,IAAD,CAAU3C,GAAG,S,wBChBvBlB,EAAe,CACjBX,MAAO,ICGLiH,EAAsC,qBAAXC,QAA0BA,OAAOC,sCAAyCC,IAE9FC,EAAQC,aDFM,WAAmC,IAAlC5C,EAAiC,uDAAzB/D,EAAc4G,EAAW,uCAGzD,OAAQA,EAAO1H,MAEX,KAAKf,EACD,OAAO,2BACA4F,GADP,IAEI1E,MAAM,GAAD,mBACE0E,EAAM1E,OADR,CAEDuH,EAAOzH,YAInB,KAAKhB,EACD,OAAO,2BACA4F,GADP,IAEI1E,MAAM,YAAKuH,EAAOzH,WAG1B,KAAKhB,EAED,OAAI4F,EAAM1E,MAAMmC,OAAS,EACd,2BACAuC,GADP,IAEI1E,MAAO0E,EAAM1E,MAAMuE,KACf,SAAA3E,GAAI,OAAKA,EAAKwD,MAAQmE,EAAOzH,QAAQsD,IAAOmE,EAAOzH,QAAUF,OAI9D,2BACA8E,GADP,IAEI1E,MAAO,CAACuH,EAAOzH,WAK3B,KAAKhB,EACD,OAAO,2BACA4F,GADP,IAEI1E,MAAO0E,EAAM1E,MAAMuE,KACf,SAAAvC,GAAC,OAAKA,EAAEoB,MAAQmE,EAAOzH,QAAQsD,IAAOmE,EAAOzH,QAAUkC,OAInE,QACI,OAAO0C,KC1CfuC,EACIO,YAAiBC,OCNZC,EAAY,WAErB,OACI,yBAAK5F,UAAU,wBACX,yBAAKA,UAAU,aACX,yBAAKA,UAAU,kCACX,4CAKR,kBAAC,IAAD,CAAUuF,MAAOA,GACb,kBAAC,EAAD,S,OCXhBM,IAASC,OACL,kBAAC,EAAD,MACFC,SAASC,eAAe,U","file":"static/js/main.a116314d.chunk.js","sourcesContent":["export const types = {\r\n    pollAddNew: '[poll] Add new poll',\r\n    answerAddNew: '[Answer] Add new Answer',   \r\n\r\n    pollStartAddNew: '[poll-API] Add Start new poll',\r\n    answerStartAddNew: '[Answer-API] Add Start new Answer',   \r\n\r\n    pollStartLoading: '[poll-API] Polls loaded',\r\n    pollsLoaded: '[poll] Polls loaded',\r\n\r\n    pollStartLoadedByID : '[poll] Poll Loaded by ID',\r\n    pollLoadedByID : '[poll] Poll Loaded by ID',\r\n\r\n    voteStartAdd : '[vote] Vote Start Add',\r\n    voteAdd : '[vote] Vote Add',\r\n\r\n\r\n}","\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nconst fetchBackEnd = ( endpoint, data, method = 'GET' ) => {\r\n\r\n    const url = `${ baseUrl }/${ endpoint }`;\r\n    \r\n    if ( method === 'GET' ) {\r\n        return fetch( url );\r\n    } else {\r\n        return fetch( url, {\r\n            method,\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify( data )\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    fetchBackEnd\r\n}","import { types } from \"../types/types\";\r\nimport { fetchBackEnd } from \"../helpers/fetch\";\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\n\r\nexport const pollStartAddNew = (poll) => {\r\n    return async (dispatch) => {\r\n\r\n        const resp = await fetchBackEnd('polls/new', poll, 'POST');\r\n        const body = await resp.json();\r\n\r\n        console.log(body);\r\n\r\n        if (body.ok) {\r\n\r\n            dispatch(pollAddNew(body.poll));\r\n\r\n        }\r\n        else {\r\n            Swal.fire('Error', body.err.message, 'error');\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nconst pollAddNew = (poll) => ({\r\n    type: types.pollAddNew,\r\n    payload: poll\r\n});\r\n\r\n\r\n\r\n\r\nexport const pollStartLoading = () => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n\r\n            const resp = await fetchBackEnd('polls');\r\n            const body = await resp.json();\r\n\r\n            dispatch(pollsLoaded(body.polls));\r\n\r\n        } catch (error) {\r\n            Swal.fire('Error', 'Faild to load Polls', 'error');\r\n        }\r\n\r\n    }\r\n}\r\n\r\nconst pollsLoaded = (polls) => ({\r\n    type: types.pollsLoaded,\r\n    payload: polls\r\n})\r\n\r\n\r\n\r\nexport const pollStartLoadedByID = (id) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n\r\n            const resp = await fetchBackEnd(`polls/${id}`);\r\n            const body = await resp.json();\r\n\r\n            dispatch(pollLoadedByID(body.poll));\r\n\r\n        } catch (error) {\r\n            Swal.fire('Error', `Faild to load Poll ${error} `, 'error');\r\n        }\r\n\r\n    }\r\n}\r\n\r\nconst pollLoadedByID = (poll) => ({\r\n    type: types.pollLoadedByID,\r\n    payload: poll\r\n})\r\n\r\n\r\nexport const voteStartAdd = (id, option) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n\r\n\r\n            const resp = await fetchBackEnd(`answer/${id}`, {option} , 'PUT');\r\n            const body = await resp.json();\r\n\r\n            if (body.ok) {\r\n\r\n                dispatch(voteAdd(body.poll));\r\n                \r\n\r\n            }\r\n            else {\r\n                Swal.fire('Error', body.err.message, 'error');\r\n            }\r\n\r\n\r\n\r\n        } catch (error) {\r\n            Swal.fire('Error', 'Faild to Vote Poll', 'error');\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nconst voteAdd = (poll) => ({\r\n    type: types.voteAdd,\r\n    payload: poll\r\n})","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux';\r\nimport { pollStartAddNew } from '../actions/polls';\r\n\r\nconst initialState = {\r\n    question: '',\r\n    option1: '',\r\n    option2: '',\r\n    option3: '',\r\n    option4: ''\r\n}\r\n\r\nexport const PollAddScreen = ({history}) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [formValues, setFormValues] = useState(initialState);\r\n\r\n    const [formError, setFormError] = useState(null);\r\n\r\n    const { question, option1, option2, option3, option4 } = formValues;\r\n\r\n\r\n    const handleInputChange = ({ target }) => {\r\n\r\n        setFormValues({\r\n            ...formValues,\r\n            [target.name]: target.value\r\n        });\r\n\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        switch (true) {\r\n            case (question.trim().length < 10):\r\n                setFormError(`Question is required and must have 10 caracters. Actual:${ question.length }`);\r\n                break;\r\n            case (option1.trim().length <= 0):\r\n                setFormError('Option 1 is required ');\r\n                break;\r\n            case (option2.trim().length <= 0):\r\n                setFormError('Option 2 is required ');\r\n                break;\r\n\r\n        \r\n            default:\r\n                \r\n                dispatch(pollStartAddNew(formValues));\r\n                setFormValues(initialState);\r\n\r\n                history.push('/');\r\n\r\n            break;\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Link to='/' className='btn btn-primary float-right'>Back to Home</Link>\r\n            <br />\r\n            <br />\r\n            <div className=\"row my-2\">\r\n                <div className=\"col\">\r\n                    <div className=\"card bg-light pad-fbs\">\r\n\r\n\r\n                        <form onSubmit={handleSubmit}>\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-sm d-flex\">\r\n\r\n                                        <div className=\"card card-body bg-light flex-fill\">\r\n                                            <div className=\"form-group\">\r\n                                                <label>Your Question <span className=\"text-danger\">*</span></label>\r\n\r\n                                                <textarea\r\n                                                    name=\"question\"\r\n                                                    rows=\"10\"\r\n                                                    className=\"form-control mb-3\"\r\n                                                    value={question}\r\n                                                    onChange={handleInputChange}\r\n                                                />\r\n\r\n                                                <button type=\"submit\" className=\"btn btn-success btn-block\">Submit Poll</button>\r\n                                            </div>\r\n\r\n\r\n                                            <p><span className=\"text-danger\">* Indicates a requered field</span></p>\r\n\r\n                                            {formError && (<div className=\"alert alert-danger\">{formError}</div>)}\r\n\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-sm d-flex\">\r\n                                        <div className=\"card card-body bg-light flex-fill\">\r\n\r\n\r\n                                            <div className=\"form-group\">\r\n                                                <label>Option 1<span className=\"text-danger\">*</span></label>\r\n                                                <input\r\n                                                    name=\"option1\"\r\n                                                    className=\"form-control mb-3\"\r\n                                                    value={option1}\r\n                                                    onChange={handleInputChange}\r\n                                                />\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group\">\r\n                                                <label>Option 2<span className=\"text-danger\">*</span></label>\r\n                                                <input\r\n                                                    name=\"option2\"\r\n                                                    className=\"form-control mb-3\"\r\n                                                    value={option2}\r\n                                                    onChange={handleInputChange}\r\n                                                />\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group\">\r\n                                                <label>Option 3</label>\r\n                                                <input\r\n                                                    name=\"option3\"\r\n                                                    className=\"form-control mb-3\"\r\n                                                    value={option3}\r\n                                                    onChange={handleInputChange}\r\n                                                />\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group\">\r\n                                                <label>Option 4</label>\r\n                                                <input\r\n                                                    name=\"option4\"\r\n                                                    className=\"form-control mb-3\"\r\n                                                    value={option4}\r\n                                                    onChange={handleInputChange}\r\n                                                />\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { PieChart } from 'react-minimal-pie-chart';\r\n\r\nexport const PollsItemScreen = ({ poll }) => {\r\n\r\n    const option1 = poll.option1 && (poll.option1 + ' ' + poll.option1votes + ' votes');\r\n    const option2 = poll.option2 && (' - ' + poll.option2 + ' ' + poll.option2votes + ' votes');\r\n    const option3 = poll.option3 && (' - ' + poll.option3 + ' ' + poll.option3votes + ' votes');\r\n    const option4 = poll.option4 && (' - ' + poll.option4 + ' ' + poll.option4votes + ' votes');\r\n    \r\n    const data = [];\r\n    \r\n    option1 && data.push( { title: poll.option1 , value: poll.option1votes, color: '#076BCD' } );\r\n    option2 && data.push( { title: poll.option2 , value: poll.option2votes, color: '#00931B' } );\r\n    option3 && data.push( { title: poll.option3 , value: poll.option3votes, color: '#FF9800' } );\r\n    option4 && data.push( { title: poll.option4 , value: poll.option4votes, color: '#9C1D99' } );\r\n    \r\n    const lineWidth = 60;\r\n    \r\n    return (\r\n\r\n        <div key={poll._id} className=\"card mt-3\" style={{ width: '100%' }}>\r\n            <div className=\"row no-gutters\">\r\n                <div className=\"col-md-4\">\r\n\r\n\r\n                    <PieChart\r\n                        className=\"ml-2\"\r\n                        style={{\r\n                            fontFamily:\r\n                                '\"Nunito Sans\", -apple-system, Helvetica, Arial, sans-serif',\r\n                            fontSize: '12px',\r\n                        }}\r\n                        data={data}\r\n                        lineWidth={lineWidth}\r\n                        animate\r\n                        label={({ dataEntry }) => Math.round(dataEntry.percentage) + '%'}\r\n                        labelPosition={100 - lineWidth / 2}\r\n                        labelStyle={{\r\n                            fill: '#fff',\r\n                            opacity: 0.75,\r\n                            pointerEvents: 'none',\r\n                        }}\r\n\r\n                    />\r\n\r\n\r\n\r\n                </div>\r\n                <div className=\"col-md-8\">\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\"><Link to={(`/polls/${poll._id}`)}>{poll.question}</Link></h5>\r\n                        <p className=\"card-text\">{option1}  {option2}  {option3}  {option4}</p>\r\n                        <p className=\"card-text\"><small>({poll.date})</small></p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n    )\r\n}","import React from 'react'\r\nimport { PollsItemScreen } from './PollsItemScreen';\r\n\r\nexport const PollsPanelScreen = ({ title, polls}) => {\r\n\r\n    \r\n    return (\r\n        <div className=\"col-sm d-flex\">\r\n            <div className=\"card card-body bg-light flex-fill\">\r\n                <h3>{title}</h3>\r\n                {\r\n                    polls.map((poll) => {\r\n                        return (\r\n                            <PollsItemScreen key={poll._id} poll={poll} />\r\n                        );\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\r\nimport { pollStartLoading } from '../actions/polls';\r\nimport { PollsPanelScreen } from './PollPanels/PollsPanelScreen';\r\nimport { preparePolls , preparePollsTop } from \"../helpers/preparePolls\";\r\n\r\n// import moment from 'moment';\r\n// //import 'moment/locale/es';\r\n\r\n// //moment.locale('es');\r\n\r\nexport const PollsListScreen = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const polls = useSelector(state => state.polls, shallowEqual);\r\n    \r\n    // 3 horas perdidas sin entender porque polls incluso con [...] mantenia referencia al store. \r\n    // haciendo que siempre se vieran iguales. aun procesando por separado en helpers \r\n    // la solucion fue hacer un deep copy y procesar por separado cada cosa. \r\n    \r\n    let pollsOrderTop = JSON.parse(JSON.stringify(polls))\r\n    pollsOrderTop = preparePollsTop( pollsOrderTop );\r\n\r\n    let pollsOrderRecent = JSON.parse(JSON.stringify(polls))\r\n    pollsOrderRecent = preparePolls( polls );\r\n\r\n    useEffect(() => {\r\n\r\n        dispatch(pollStartLoading());\r\n\r\n    }, [dispatch])\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Link to='/polls/new' className='btn btn-primary float-right'>Create your own Poll</Link>\r\n\r\n            <br />\r\n            <br />\r\n            <div className=\"row my-2\">\r\n                <div className=\"col\">\r\n                    <div className=\"card bg-light pad-fbs\">\r\n\r\n                        <div className=\"container-fluid\">\r\n                            <div className=\"row\">\r\n                                <PollsPanelScreen \r\n                                    key=\"1\"\r\n                                    title=\"Top 3 Polls\"\r\n                                    polls={pollsOrderTop}\r\n                                />\r\n\r\n                                <PollsPanelScreen \r\n                                    key=\"2\"\r\n                                    title=\"Recent Polls\"\r\n                                    polls={pollsOrderRecent}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n","import moment from 'moment'\r\n\r\nexport const preparePolls = (polls = []) => {\r\n\r\n    return polls\r\n        .map(\r\n            (e) => ({\r\n                ...e,\r\n                date: moment(e.date).fromNow(),\r\n            })\r\n        );\r\n}\r\n\r\nexport const preparePollsTop = (polls = []) => {\r\n\r\n    return polls.sort(({ total: previousID }, { total: currentID }) => previousID - currentID)\r\n        .reverse()\r\n        .slice(0, 3)\r\n        .map(\r\n            (e) => ({\r\n                ...e,\r\n                date: moment(e.date).fromNow(),\r\n            })\r\n        );\r\n}","import React from 'react'\r\n\r\nexport const PollAnswerScreen = ({ pollID, name, value, color = 'success', handleVote}) => {\r\n\r\n    return (\r\n        <div key={pollID + name} className=\"card mt-3\" style={{ width: '100%' }}>\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title mb-4\">{value}</h5>\r\n                <br />\r\n                <button \r\n                    onClick={()=> handleVote(name)}\r\n                    className={`btn btn-${color} btn-block mt-4`}\r\n                >{value}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { PieChart } from 'react-minimal-pie-chart';\r\n\r\n\r\nexport const PollsResultScreen = ({ poll }) => {\r\n\r\n\r\n\r\n    const {\r\n        question,\r\n        option1,\r\n        option2,\r\n        option3,\r\n        option4,\r\n        option1votes,\r\n        option2votes,\r\n        option3votes,\r\n        option4votes\r\n    } = poll;\r\n\r\n    const data = [];\r\n\r\n    option1 && data.push({ title: option1, value: option1votes, color: '#076BCD' });\r\n    option2 && data.push({ title: option2, value: option2votes, color: '#00931B' });\r\n    option3 && data.push({ title: option3, value: option3votes, color: '#FF9800' });\r\n    option4 && data.push({ title: option4, value: option4votes, color: '#9C1D99' });\r\n\r\n    const lineWidth = 60;\r\n\r\n    return (\r\n        <>\r\n            <Link to='/' className='btn btn-primary float-right'>Back to Home</Link>\r\n            <br />\r\n            <br />\r\n            <div className=\"row my-2 \">\r\n                <div className=\"col\">\r\n                    <div className=\"card bg-light pad-fbs\">\r\n\r\n                        <h1 className=\"text-center\">{question}</h1>\r\n\r\n\r\n\r\n                        <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n                            <strong><i className=\"fas fa-info-circle\"></i>  Thanks for voting!</strong>  Here are the results.\r\n                                <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"container-fluid\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-4\">\r\n\r\n                                    <div className=\"card card-body bg-light flex-fill\">\r\n\r\n                                        <PieChart\r\n                                            className=\"ml-2\"\r\n                                            style={{\r\n                                                fontFamily:\r\n                                                    '\"Nunito Sans\", -apple-system, Helvetica, Arial, sans-serif',\r\n                                                fontSize: '12px',\r\n                                            }}\r\n                                            data={data}\r\n                                            lineWidth={lineWidth}\r\n                                            animate\r\n                                            label={({ dataEntry }) => Math.round(dataEntry.percentage) + '%'}\r\n                                            labelPosition={100 - lineWidth / 2}\r\n                                            labelStyle={{\r\n                                                fill: '#fff',\r\n                                                opacity: 0.75,\r\n                                                pointerEvents: 'none',\r\n                                            }}\r\n\r\n                                        />\r\n\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-sm-8\">\r\n                                    <div className=\"card card-body bg-light flex-fill\">\r\n\r\n\r\n\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-sm-6\">\r\n                                                <h3>{option1}</h3>\r\n                                            </div>\r\n                                            <div className=\"col-sm-6\">\r\n                                                <h3>{option1votes} votes</h3>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-sm-6\">\r\n                                                <h3>{option2}</h3>\r\n                                            </div>\r\n                                            <div className=\"col-sm-6\">\r\n                                                <h3>{option2votes} votes</h3>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n\r\n\r\n\r\n                                        {\r\n\r\n                                            (option3) && (\r\n                                                <div className=\"row\">\r\n                                                    <div className=\"col-sm-6\">\r\n                                                        <h3>{option3}</h3>\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-6\">\r\n                                                        <h3>{option3votes} votes</h3>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n\r\n                                        {\r\n\r\n                                            (option4) && (\r\n                                                <div className=\"row\">\r\n                                                    <div className=\"col-sm-6\">\r\n                                                        <h3>{option4}</h3>\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-6\">\r\n                                                        <h3>{option4votes} votes</h3>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                            )\r\n                                        }\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","\r\nimport io from \"socket.io-client\";\r\n\r\nexport const socket = io(process.env.REACT_APP_SOCKET_IO_URL + '/voting');","import React, { useEffect, useState} from 'react'\r\nimport { useParams, Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { pollStartLoadedByID, voteStartAdd } from '../actions/polls';\r\nimport { PollAnswerScreen } from './PollPanels/PollAnswerScreen';\r\nimport { PollsResultScreen } from './PollsResultScreen';\r\nimport {socket} from '../service/socket';\r\n\r\nexport const PollQuestionScreen = ({ history }) => {\r\n\r\n    if (history.length <= 2)\r\n        history.push('/');\r\n\r\n    const { id } = useParams();\r\n\r\n    const poll = useSelector(state => state.polls).find(poll => poll._id === id);\r\n\r\n    const [esRespuesta, setEsRespuesta] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n    \r\n    useEffect(() => {\r\n\r\n        dispatch(pollStartLoadedByID(id));\r\n\r\n        // escuchamos si existe algun cambio desde el servidor.\r\n        socket.on(\"updateVoging\", data => {\r\n\r\n            console.log(\"Se ejecuto el update!\");\r\n\r\n            if (data.id === id) {\r\n                console.log(\"Y actualizó!!!!\");\r\n                dispatch(pollStartLoadedByID(id));\r\n            }\r\n        });\r\n\r\n\r\n    }, [dispatch, id]) // eslint-disable-line react-hooks/exhaustive-deps\r\n    \r\n\r\n\r\n    try {\r\n\r\n\r\n        const handleVote = (value) => {\r\n            dispatch(voteStartAdd(id, value));\r\n\r\n            socket.emit(\"vote\", { id }, function (resp) {\r\n                console.log(\"Y actualizó!!!!\", resp);\r\n            });\r\n\r\n            setEsRespuesta(true);\r\n        }\r\n\r\n\r\n        const {\r\n            question,\r\n            option1,\r\n            option2,\r\n            option3,\r\n            option4,\r\n            // option1votes,\r\n            // option2votes,\r\n            // option3votes,\r\n            // option4votes\r\n        } = poll;\r\n\r\n\r\n        return (!esRespuesta) ? (\r\n            <>\r\n\r\n                <br />\r\n                <br />\r\n                <div className=\"row my-2 text-center\">\r\n                    <div className=\"col\">\r\n                        <div className=\"card bg-light pad-fbs\">\r\n\r\n                            <h1>{question}</h1>\r\n\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-sm d-flex\">\r\n\r\n                                        <div className=\"card card-body bg-light flex-fill\">\r\n\r\n                                            <PollAnswerScreen name=\"option1\" color=\"warning\" value={option1} pollID={id} handleVote={handleVote} />\r\n\r\n                                            {option3 && (<PollAnswerScreen name=\"option3\" color=\"success\" value={option3} pollID={id} handleVote={handleVote} />)}\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-sm d-flex\">\r\n                                        <div className=\"card card-body bg-light flex-fill\">\r\n\r\n                                            <PollAnswerScreen name=\"option2\" color=\"danger\" value={option2} pollID={id} handleVote={handleVote} />\r\n                                            {option4 && (<PollAnswerScreen name=\"option4\" color=\"success\" value={option4} pollID={id} handleVote={handleVote} />)}\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        ) : (<PollsResultScreen poll={poll} />);\r\n\r\n    } catch (error) {\r\n        return <Redirect to='/' />\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport { PollAddScreen } from \"../components/PollAddScreen\";\r\nimport { PollsListScreen } from \"../components/PollsListScreen\";\r\nimport { PollQuestionScreen } from \"../components/PollQuestionScreen\";\r\n\r\nexport const AppRouter = () => {\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route exact path='/polls/new' component={ PollAddScreen }  />\r\n                <Route exact path='/polls/:id' component = { PollQuestionScreen }/>\r\n                <Route exact path='/'component={ PollsListScreen }/>\r\n                <Redirect to='/' />\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n    polls: []\r\n};\r\n\r\nexport const pollReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n\r\n        case types.pollAddNew:\r\n            return {\r\n                ...state,\r\n                polls: [\r\n                    ...state.polls,\r\n                    action.payload\r\n                ]\r\n            }\r\n\r\n        case types.pollsLoaded:\r\n            return {\r\n                ...state,\r\n                polls: [...action.payload]\r\n            }\r\n\r\n        case types.pollLoadedByID:\r\n\r\n            if (state.polls.length > 0)\r\n                return {\r\n                    ...state,\r\n                    polls: state.polls.map(\r\n                        poll => (poll._id === action.payload._id) ? action.payload : poll\r\n                    )\r\n                }\r\n            else {\r\n                return {\r\n                    ...state,\r\n                    polls: [action.payload]\r\n                }\r\n            }\r\n\r\n\r\n        case types.voteAdd:\r\n            return {\r\n                ...state,\r\n                polls: state.polls.map(\r\n                    e => (e._id === action.payload._id) ? action.payload : e\r\n                )\r\n            }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n}","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk'\r\n\r\nimport { pollReducer } from '../reducers/pollReducer';\r\n\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nexport const store = createStore(\r\n    pollReducer,\r\n    composeEnhancers(\r\n        applyMiddleware( thunk )\r\n    )\r\n);","import React from 'react'\r\nimport { AppRouter } from './routers/AppRouter'\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './store/store';\r\n\r\nexport const VotingApp = () => {\r\n\r\n    return (\r\n        <div className=\"container-fluid mt-3\">\r\n            <div className=\"card mb-3\">\r\n                <div className=\"card-body text-center bg-light\">\r\n                    <h1>Voting App</h1>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <Provider store={store} >\r\n                <AppRouter/>\r\n            </Provider>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { VotingApp } from './VotingApp';\n\nimport './index.css'\n\nReactDOM.render(\n    <VotingApp />,\n  document.getElementById('root')\n);"],"sourceRoot":""}